32<%- include("../includes/head.ejs") %>
  <%- include('../includes/header.ejs') %>



    <div id="fullpage" class="fullpage-default">
      <div class="section animated-row" data-section="slide03">
        <div class="section-inner">
          <div class="about-section">
            <div class="row justify-content-center">
              <div class="col-lg-8 wide-col-laptop">
                <div class="row">
                  <div class="col-md-6">

                    <form class="row g-3">
                      <div class="col-md-6">
                        <label for="inputNombre" class="form-label">Nombre</label>
                        <input type="text" class="form-control" id="inputNombre">
                      </div>
                      <div class="col-md-6">
                        <label for="inputApellido" class="form-label">Apellido</label>
                        <input type="text" class="form-control" id="inputApellido">
                      </div>
                      <div class="col-md-6">
                        <label for="inputEdad" class="form-label">Edad</label>
                        <input type="text" class="form-control" id="inputEdad">
                      </div>
                      <div class="col-md-6">
                        <label for="inputDocumento" class="form-label">Número de Documento</label>
                        <input type="text" class="form-control" id="inputDocumento">
                      </div>
                      <div class="col-md-6">
                        <label for="inputTeléfono" class="form-label">Teléfono</label>
                        <input type="tel" class="form-control" id="inputTeléfono">
                      </div>
                      <div class="col-md-6">
                        <label for="inputDirección" class="form-label">Dirección</label>
                        <input type="text" class="form-control" id="inputDirección">
                      </div>
                      <div class="col-md-6">
                        <label for="inputProfesión" class="form-label">Profesión</label>
                        <input type="text" class="form-control" id="inputProfesión">
                      </div>
                      <div class="col-md-6">
                        <label for="rol">Comité</label>
                        <select name="rol" id="rol" class="form-control">
                          <option value=""></option>
                          <option value="medioAmbiente">Medio ambiente</option>
                          <option value="recreoDeporte">Recreodeporte</option>
                          <option value="educación">Educación</option>
                          <option value="infraestructura">Infraestructura</option>
                          <option value="salud">Salud</option>
                          <option value="cultura">Cultura</option>
                        </select>
                      </div>
                      <div class="col-md-12">
                        <p><textarea name="comentario" rows="5" cols="100"
                            class="form-control">Escribe aquí tu comentario: </textarea></p>
                      </div>

                      <div class="row mb-3">
                        <label for="ejemplo_archivo_1" class="col-sm-4 col-form-label">Adjuntar firma
                          digitalizada</label>
                        <div class="col-sm-12">
                          <input type="file" class="form-control" id="ejemplo_archivo_1">
                        </div>
                      </div>


                      <div class="col-12">
                        <label for="rol" class="form-label">Rol de quien registra</label>
                        <p></p>
                        <select name="rol" id="rol" class="form-control">
                          <option value="vacio"></option>
                          <option value="admin">Admin</option>
                          <option value="Presidenta">Presidenta</option>
                          <option value="Secretaria">Secretaria</option>
                        </select>
                      </div>


                      <div class="col-12">
                        <button onclick="dato();" type="submit" class="btn btn-primary">Registrar</button>
                      </div>

                    </form>

                  </div>

                </form>
                <div class="row justify-content-center">
                    <div class="col-lg-12">
                        <div class="table-responsive">
                            <div class="card-footer">
                                <table id="verTableUsuario" class="table table-striped table-hover table-bordered" style="width:100%">
                                    <thead class="text-center thead-light">
                                        <tr>
                                            <td>#</td>
                                            <td>Código</td>
                                            <td>Título</td>
                                            <td>Artículo</td>
                                            <td>lugar</td>
                                            <td>Fecha</td>
                                            <td>Hora</td>
                                            <td>Teléfono</td>
                                            <td>Imagen</td>
                                            <td>Opción</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <% for (var index=0; index < datos.length; index++) { %>
                                            <tr>
                                                <td style="text-align: center;"><%= datos[index].id_sorteos%></td>
                                                <td style="text-align: center;"><%= datos[index].codigo%></td>
                                                <td style="text-align: center;"><%= datos[index].titulo%></td>
                                                <td style="text-align: center;"><%= datos[index].nombre_producto%></td>
                                                <td style="text-align: center;"><%= datos[index].lugar%></td>
                                                <td style="text-align: center;"><%= datos[index].fecha%></td>
                                                <td style="text-align: center;"><%= datos[index].hora%></td>
                                                <td style="text-align: center;"><%= datos[index].telefono%></td>
                                                <td style="text-align: center;"><%= datos[index].imagen%></td>
                                                <td>
                                                    <div class="col">
                                                        <button type="button" class="mr-1 btn btn-success" data-bs-toggle="modal" data-bs-target="#exampleModal<%= datos[index].id_sorteos %>" data-bs-whatever="@mdo"><i class="fas fa-marker"></i></button>
                                                            <div style="height: 5px;"></div>
                                                        <a class="mr-1 btn btn-danger"  href="/deleteTabla/<%= datos[index].id_sorteos %>"> <i class="fas fa-trash-alt"></i></a>
                                                    </div>
                                                </td>
                                            </tr>

                                            <div class="modal fade" id="exampleModal<%= datos[index].id_sorteos %>" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                                <div class="modal-dialog">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                    <h5 class="modal-title" id="exampleModalLabel">Actualización</h5>
                                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                                    </div>
                                                    <div class="modal-body">
                                                    <form method="POST" action="/updatesorteo/<%= datos[index].id_sorteos%>" enctype="multipart/form-data">
                                                        <div class="mb-3">
                                                            <label for="recipient-name" class="col-form-label">Imagen:</label>
                                                            <input type="file" name="imagen" class="form-control" id="imagen" value="<%= datos[index].imagen%>">
                                                        
                                                        </div>
                                                        <div class="mb-3">
                                                        <label for="recipient-name" class="col-form-label">Título:</label>
                                                        <input type="text" name="titulo" class="form-control" id="recipient-name" value="<%= datos[index].titulo%>">
                                                        </div>
                                                        <div class="mb-3">
                                                            <label for="recipient-name" class="col-form-label">Artículo:</label>
                                                            <input type="text" name="nombre_producto" class="form-control" id="recipient-name"  value="<%= datos[index].nombre_producto%>">
                                                        </div>
                                                        <div class="mb-3">
                                                            <label for="recipient-name" class="col-form-label">lugar:</label>
                                                            <input type="text" name="lugar" class="form-control" id="recipient-name"  value="<%= datos[index].lugar%>">
                                                        </div>
                                                        <div class="mb-3">
                                                            <label for="recipient-name" class="col-form-label">Fecha:</label>
                                                            <input type="date" name="fecha" class="form-control" id="recipient-name" value="<%= datos[index].fecha%>" required>
                                                        </div>
                                                        <div class="mb-3">
                                                            <label for="recipient-name" class="col-form-label">Hora:</label>
                                                            <input type="time" name="hora" class="form-control" id="recipient-name" value="<%= datos[index].hora%>">
                                                        </div>
                                                        <div class="mb-3">
                                                            <label for="recipient-name" class="col-form-label">Teléfono:</label>
                                                            <input type="text" name="telefono" class="form-control" id="recipient-name" value="<%= datos[index].telefono%>">
                                                        </div>
                                                        </div>
                                                        <div class="modal-footer">
                                                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                                                            <input type="submit" class="btn btn-secondary" value="Actualizar">
                                                        </div>
                                                    </form>
                                                </div>
                                                </div>
                                            </div>
                                            <% } %>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>




              </div>
            </div>
          </div>
        </div>
      </div>

      




      <%- include("../includes/footer.ejs") %>
      <!-- Iniciar alerta -->
    
    <% if(typeof alert !="undefined" ) { %>
      <script>
        Swal.fire({
          title: '<%= alertTitle  %>',
          text: '<%= alertMessage %>',
          icon: '<%= alertIcon %>',
          showConfirmButton: '<%= showConfirmButton %>',
          timer: 2500
        }).then(() => {
          window.location = '/<%= ruta %>'
        })
      </script>
    <% } %>